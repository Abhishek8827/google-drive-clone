/* src/index.css */

/* =========================================
   1. GLOBAL RESET & BASE STYLES
   ========================================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* --- DEFAULT LIGHT THEME VARIABLES --- */
  --bg: #f8fafd;
  --text: #202124;
  --muted: #5f6368;
  --accent: #1a73e8;
  --border: #e6e6e6;
  --card-bg: #ffffff;
  --hover-bg: rgba(0, 0, 0, 0.04);
  --icon-bg: #f6f7f8;
}

/* =========================================
   2. DARK MODE VARIABLES
   ========================================= */
body.dark-mode {
  --bg: #181818;
  --text: #e8eaed;
  --muted: #9aa0a6;
  --accent: #8ab4f8;
  --border: #3c4043;
  --card-bg: #202124;
  --hover-bg: rgba(255, 255, 255, 0.08);
  --icon-bg: #303134;

  background-color: var(--bg) !important;
  color: var(--text) !important;
}

/* =========================================
   3. APP LAYOUT
   ========================================= */
.app-root {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg);
  color: var(--text);
  transition: background 0.2s ease, color 0.2s ease;
}

.app-shell {
  display: flex;
  align-items: stretch;
  flex: 1;
  overflow: hidden;
}

/* =========================================
   4. DARK MODE COMPONENT OVERRIDES
   (Using !important to override component CSS)
   ========================================= */

/* --- SIDEBAR --- */
.dark-mode .sidebar {
  background-color: var(--bg) !important;
  border-right-color: var(--border) !important;
  color: var(--text) !important;
}

.dark-mode .nav-icon,
.dark-mode .folder-icon,
.dark-mode .sidebar-new-icon-btn .material-symbols-outlined,
.dark-mode .sidebar-collapse-btn .material-symbols-outlined {
  color: var(--text) !important;
}

.dark-mode .sidebar-new-btn {
  color: white !important; /* Keep "New" button text white */
}

/* --- MAIN DATA AREA --- */
.dark-mode .data {
  background-color: var(--bg) !important;
  border-top-color: var(--border) !important;
  color: var(--text) !important;
}

/* Grid View Cards */
.dark-mode .data_file {
  background-color: var(--card-bg) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

.dark-mode .data_file p {
  background-color: #2b2c2f !important;
  color: var(--text) !important;
  border-top-color: var(--border) !important;
}

/* List View Rows */
.dark-mode .detailsRow {
  background-color: transparent !important;
  border-bottom-color: var(--border) !important;
  color: var(--text) !important;
}

.dark-mode .detailsRow:hover {
  background-color: var(--hover-bg) !important;
}

.dark-mode .colName b,
.dark-mode .detailsRow p {
  color: var(--text) !important;
}

/* --- HEADER & SEARCH --- */
.dark-mode .header {
  background-color: var(--bg) !important;
  border-bottom-color: var(--border) !important;
}

.dark-mode .logo_text {
  color: var(--text) !important;
}

.dark-mode .header_search {
  background-color: var(--icon-bg) !important;
}

.dark-mode .header_search input {
  color: var(--text) !important;
}

.dark-mode .header_search .material-symbols-outlined {
  color: var(--muted) !important;
}

.dark-mode .header-icon,
.dark-mode .appsBtn,
.dark-mode .signoutBtn {
  color: var(--text) !important;
  background: transparent !important;
}

.dark-mode .header-icon:hover,
.dark-mode .appsBtn:hover,
.dark-mode .signoutBtn:hover {
  background: var(--hover-bg) !important;
}

/* --- MODALS & POPUPS --- */
.dark-mode .appsDialog,
.dark-mode .profileDialog,
.dark-mode .fileModal,
.dark-mode .confirmModal,
.dark-mode .uploadPopup {
  background-color: var(--card-bg) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.dark-mode .appIconWrap {
  background-color: var(--icon-bg) !important;
}

.dark-mode .appTileSvg,
.dark-mode .appTitle {
  color: var(--text) !important;
}

/* --- BUTTONS & INPUTS --- */
.dark-mode .iconBtn,
.dark-mode .actionBtn {
  background-color: var(--card-bg) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Fix for "My Drive" Dropdown Button */
.dark-mode .driveArrowBtn,
.dark-mode .driveLabelText,
.dark-mode .driveArrowBtn .material-symbols-outlined {
  color: var(--text) !important;
}

.dark-mode .driveArrowBtn:hover {
  background-color: var(--hover-bg) !important;
  border-radius: 8px;
}

/* Fix for File Type Badges (pdf, jpg, etc.) */
.dark-mode .fileType {
  background-color: var(--icon-bg) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
}